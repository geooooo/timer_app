(this["webpackJsonptimer-app"]=this["webpackJsonptimer-app"]||[]).push([[0],[,,,,function(t,e,n){t.exports={Stopwatch:"Stopwatch_Stopwatch__1NXIW",StopwatchBorder:"Stopwatch_StopwatchBorder__21RIZ",StopwatchOn:"Stopwatch_StopwatchOn__2W85_",StopwatchContent:"Stopwatch_StopwatchContent__1buen",Time:"Stopwatch_Time__12DQ7",Separator:"Stopwatch_Separator__Wjvpa"}},function(t,e,n){t.exports={Alarm:"Alarm_Alarm__k3WRn",AlarmTriggered:"Alarm_AlarmTriggered__1TytG",AlarmBorder:"Alarm_AlarmBorder__3D1fH",alarmBorderAnimation:"Alarm_alarmBorderAnimation__1WGPj",AlarmContent:"Alarm_AlarmContent__P_EYn",alarmContentAnimation:"Alarm_alarmContentAnimation__3AJBD",AlarmOn:"Alarm_AlarmOn__O0eZd",Time:"Alarm_Time__V5cdF",Separator:"Alarm_Separator__37Pxe"}},,,,function(t,e,n){t.exports={App:"App_App__2htTF",Header:"App_Header__3nNFQ",PageContainer:"App_PageContainer__Rca7C"}},,function(t,e,n){t.exports={Page:"Page_Page__1B_0z",PageVisible:"Page_PageVisible__1JaEz"}},function(t,e,n){t.exports={BottomMenuItem:"BottomMenuItem_BottomMenuItem__2aIcv",BottomMenuItemSelected:"BottomMenuItem_BottomMenuItemSelected__349UW"}},,,function(t,e,n){t.exports={BottomMenu:"BottomMenu_BottomMenu__WRc9W"}},,function(t,e,n){},,,,,,function(t,e,n){"use strict";n.r(e);n(17);var i=n(1),a=n(14),r=n(2),c=n(3),s=n(6),o=n(8),m=n(7),l=n(9),u=n.n(l),h=function t(){Object(r.a)(this,t)};h.alarm="alarm",h.stopwatch="stopwatch",h.timer="timer";var d=function t(){Object(r.a)(this,t),this.selectedBottomMenuItem=h.alarm},j=n(11),v=n.n(j),O=n(0),f=Object(i.memo)((function(t){var e=v.a.Page;return t.isTop&&(e+=" "+v.a.PageVisible),Object(O.jsx)("div",{className:e,children:t.children})}));f.defaultProps={isTop:!1};var S=n(5),p=n.n(S),b=function t(){Object(r.a)(this,t),this.hours=0,this.minutes=0,this.isOn=!1,this.isAlarm=!1},_=function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"isShowAlarm",value:function(t){return t.selectedBottomMenuItem===h.alarm}},{key:"isShowStopwatch",value:function(t){return t.selectedBottomMenuItem===h.stopwatch}},{key:"isShowTimer",value:function(t){return t.selectedBottomMenuItem===h.timer}}]),t}(),A=function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"isShouldAlarm",value:function(t){var e=new Date,n=e.getHours(),i=e.getMinutes();return n===t.hours&&i===t.minutes}},{key:"isActive",value:function(t){return t.isOn||t.isAlarm}}]),t}(),x=function(){function t(e){Object(r.a)(this,t),this._timeService=e}return Object(c.a)(t,[{key:"incSeconds",value:function(t){var e=this._timeService.getNextSeconds(t.seconds),n=0===e&&0!==t.seconds?this._timeService.getNextMinutes(t.minutes):t.minutes;return{nextHours:0===n&&0!==t.minutes?this._timeService.getNextHours(t.hours):t.hours,nextMinutes:n,nextSeconds:e}}}]),t}(),k=function t(){Object(r.a)(this,t)};k.timeService=new(function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"getNextSeconds",value:function(t){var e=t+1;return e>59&&(e=0),e}},{key:"getNextMinutes",value:function(t){var e=t+1;return e>59&&(e=0),e}},{key:"getNextHours",value:function(t){var e=t+1;return e>23&&(e=0),e}},{key:"formatValue",value:function(t){var e=t.toString();return e.length<2&&(e="0"+e),e}}]),t}()),k.context=Object(i.createContext)({appService:new _,alarmService:new A,stopwatchService:new x(k.timeService),timeService:k.timeService});var C=function(t){Object(o.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state=new b,a.timer=null,a.alarmContainerRef=Object(i.createRef)(),a.onStartStopAlarmClick=a.onStartStopAlarmClick.bind(Object(s.a)(a)),a.onIncAlarmHoursClick=a.onIncAlarmHoursClick.bind(Object(s.a)(a)),a.onIncAlarmMinutesClick=a.onIncAlarmMinutesClick.bind(Object(s.a)(a)),a}return Object(c.a)(n,[{key:"formattedHours",get:function(){return this.timeService.formatValue(this.state.hours)}},{key:"formattedMinutes",get:function(){return this.timeService.formatValue(this.state.minutes)}},{key:"alarmClassName",get:function(){var t=p.a.Alarm;return this.state.isOn?t+=" "+p.a.AlarmOn:this.state.isAlarm&&(t+=" "+p.a.AlarmTriggered),t}},{key:"turnOn",value:function(){this.setState({isOn:!0}),this.runAlarm()}},{key:"runAlarm",value:function(){var t=this;this.alarmService.isShouldAlarm(this.state)?this.alarm():this.timer=setInterval((function(){t.alarmService.isShouldAlarm(t.state)&&t.alarm()}),this.alarmCheckTimeIntervalMs)}},{key:"showAlarm",value:function(){this.setState({isAlarm:!0}),window.alert("Alarm: ".concat(this.formattedHours,":").concat(this.formattedMinutes," !"))}},{key:"alarm",value:function(){this.turnOffTimer(),this.showAlarm()}},{key:"turnOffTimer",value:function(){clearInterval(this.timer),this.setState({isOn:!1})}},{key:"turnOffAlarm",value:function(){this.setState({isAlarm:!1})}},{key:"onStartStopAlarmClick",value:function(t){t.target===this.alarmContainerRef.current&&(this.state.isOn?this.turnOffTimer():this.state.isAlarm?this.turnOffAlarm():this.turnOn())}},{key:"onIncAlarmHoursClick",value:function(){this.alarmService.isActive(this.state)||this.setState({hours:this.timeService.getNextHours(this.state.hours)})}},{key:"onIncAlarmMinutesClick",value:function(){this.alarmService.isActive(this.state)||this.setState({minutes:this.timeService.getNextMinutes(this.state.minutes)})}},{key:"render",value:function(){return this.alarmService=this.context.alarmService,this.timeService=this.context.timeService,Object(O.jsxs)("div",{className:this.alarmClassName,onClick:this.onStartStopAlarmClick,children:[Object(O.jsx)("div",{className:p.a.AlarmBorder}),Object(O.jsxs)("div",{className:p.a.AlarmContent,ref:this.alarmContainerRef,children:[Object(O.jsx)("div",{className:p.a.Time,onClick:this.onIncAlarmHoursClick,children:this.formattedHours}),Object(O.jsx)("div",{className:p.a.Separator,children:":"}),Object(O.jsx)("div",{className:p.a.Time,onClick:this.onIncAlarmMinutesClick,children:this.formattedMinutes})]})]})}}]),n}(i.Component);C.contextType=k.context,C.alarmCheckTimeIntervalMs=6e4;var w=n(13),I=n(16),M=n(4),g=n.n(M),B=function t(){Object(r.a)(this,t),this.hours=0,this.minutes=0,this.seconds=0,this.isOn=!1};function T(){var t=Object(i.useContext)(k.context).stopwatchService,e=Object(i.useContext)(k.context).timeService,n=Object(i.useState)(new B),a=Object(I.a)(n,2),r=a[0],c=a[1];Object(i.useEffect)((function(){r.isOn?T.timer=setTimeout(u,1e3):clearTimeout(T.timer)}));var s=e.formatValue(r.hours),o=e.formatValue(r.minutes),m=e.formatValue(r.seconds);function l(t){c((function(e){return Object(w.a)(Object(w.a)({},e),t)}))}function u(){var e=t.incSeconds(r);l({hours:e.nextHours,minutes:e.nextMinutes,seconds:e.nextSeconds})}return Object(O.jsxs)("div",{onClick:function(){r.isOn?l({isOn:!1}):l({isOn:!0,hours:0,minutes:0,seconds:0})},className:function(){var t=g.a.Stopwatch;return r.isOn&&(t+=" "+g.a.StopwatchOn),t}(),children:[Object(O.jsx)("div",{className:g.a.StopwatchBorder}),Object(O.jsxs)("div",{className:g.a.StopwatchContent,children:[Object(O.jsx)("div",{className:g.a.Time,children:s}),Object(O.jsx)("div",{className:g.a.Separator,children:":"}),Object(O.jsx)("div",{className:g.a.Time,children:o}),Object(O.jsx)("div",{className:g.a.Separator,children:":"}),Object(O.jsx)("div",{className:g.a.Time,children:m})]})]})}T.timer=null;var N=Object(i.memo)((function(){return Object(O.jsx)("h1",{children:"Timer"})})),y=n(15),P=n.n(y),H=n(12),V=n.n(H),R=Object(i.memo)((function(t){var e=V.a.BottomMenuItem;return t.selected&&(e+=" "+V.a.BottomMenuItemSelected),Object(O.jsx)("button",{className:e,onClick:t.onClick,children:t.children})}));R.defaultProps={selected:!1};var W=Object(i.memo)((function(t){var e=t.selectedItem===h.alarm,n=t.selectedItem===h.stopwatch,i=t.selectedItem===h.timer;return Object(O.jsxs)("div",{className:P.a.BottomMenu,children:[Object(O.jsx)(R,{selected:e,onClick:function(){return t.onItemClick(h.alarm)},children:"Alarm"}),Object(O.jsx)(R,{selected:n,onClick:function(){return t.onItemClick(h.stopwatch)},children:"Stopwatch"}),Object(O.jsx)(R,{selected:i,onClick:function(){return t.onItemClick(h.timer)},children:"Timer"})]})})),D=function(t){Object(o.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).state=new d,i.onBottomMenuItemClick=i.onBottomMenuItemClick.bind(Object(s.a)(i)),i}return Object(c.a)(n,[{key:"onBottomMenuItemClick",value:function(t){this.setState({selectedBottomMenuItem:t})}},{key:"buildPages",value:function(){return Object(O.jsxs)("div",{className:u.a.PageContainer,children:[Object(O.jsx)(f,{isTop:this.appService.isShowAlarm(this.state),children:Object(O.jsx)(C,{})}),Object(O.jsx)(f,{isTop:this.appService.isShowStopwatch(this.state),children:Object(O.jsx)(T,{})}),Object(O.jsx)(f,{isTop:this.appService.isShowTimer(this.state),children:Object(O.jsx)(N,{})})]})}},{key:"render",value:function(){return this.appService=this.context.appService,Object(O.jsxs)("div",{className:u.a.App,children:[Object(O.jsx)("header",{className:u.a.Header,children:Object(O.jsx)("h1",{children:"React Timer"})}),this.buildPages(),Object(O.jsx)(W,{selectedItem:this.state.selectedBottomMenuItem,onItemClick:this.onBottomMenuItemClick})]})}}]),n}(i.Component);D.contextType=k.context;var E=Object(O.jsx)(i.StrictMode,{children:Object(O.jsx)(D,{})});Object(a.render)(E,document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.c9eac2b5.chunk.js.map