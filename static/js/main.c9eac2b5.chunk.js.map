{"version":3,"sources":["App/Stopwatch/Stopwatch.module.css","App/Alarm/Alarm.module.css","App/App.module.css","App/Page/Page.module.css","App/BottomMenu/BottomMenuItem/BottomMenuItem.module.css","App/BottomMenu/BottomMenu.module.css","models/BottomMenuItemType.js","models/AppState.js","App/Page/Page.js","models/AlarmState.js","services/AppService.js","services/AlarmService.js","services/StopwatchService.js","services/DiService.js","services/TimeService.js","App/Alarm/Alarm.js","models/StopwatchState.js","App/Stopwatch/Stopwatch.js","App/Timer/Timer.js","App/BottomMenu/BottomMenuItem/BottomMenuItem.js","App/BottomMenu/BottomMenu.js","App/App.js","index.js"],"names":["module","exports","BottomMenuItemType","alarm","stopwatch","timer","AppState","this","selectedBottomMenuItem","Page","memo","props","className","classes","isTop","PageVisible","children","defaultProps","AlarmState","hours","minutes","isOn","isAlarm","AppService","state","AlarmService","currentDate","Date","currentHours","getHours","currentMinutes","getMinutes","StopwatchService","timeService","_timeService","nextSeconds","getNextSeconds","seconds","nextMinutes","getNextMinutes","nextHours","getNextHours","DiService","value","formattedValue","toString","length","context","createContext","appService","alarmService","stopwatchService","Alarm","alarmContainerRef","createRef","onStartStopAlarmClick","bind","onIncAlarmHoursClick","onIncAlarmMinutesClick","formatValue","AlarmOn","AlarmTriggered","setState","runAlarm","isShouldAlarm","setInterval","alarmCheckTimeIntervalMs","window","alert","formattedHours","formattedMinutes","turnOffTimer","showAlarm","clearInterval","event","target","current","turnOffAlarm","turnOn","isActive","alarmClassName","onClick","AlarmBorder","AlarmContent","ref","Time","Separator","Component","contextType","StopwatchState","Stopwatch","useContext","useState","useEffect","setTimeout","tick","clearTimeout","formattedSeconds","updateState","updates","prevState","incSeconds","StopwatchOn","getStopwatchClassName","StopwatchBorder","StopwatchContent","Timer","BottomMenuItem","selected","BottomMenuItemSelected","BottomMenu","isShowAlarm","selectedItem","isShowStopwatch","isShowTimer","onItemClick","App","onBottomMenuItemClick","itemType","PageContainer","Header","buildPages","app","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9eac2b5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stopwatch\":\"Stopwatch_Stopwatch__1NXIW\",\"StopwatchBorder\":\"Stopwatch_StopwatchBorder__21RIZ\",\"StopwatchOn\":\"Stopwatch_StopwatchOn__2W85_\",\"StopwatchContent\":\"Stopwatch_StopwatchContent__1buen\",\"Time\":\"Stopwatch_Time__12DQ7\",\"Separator\":\"Stopwatch_Separator__Wjvpa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Alarm\":\"Alarm_Alarm__k3WRn\",\"AlarmTriggered\":\"Alarm_AlarmTriggered__1TytG\",\"AlarmBorder\":\"Alarm_AlarmBorder__3D1fH\",\"alarmBorderAnimation\":\"Alarm_alarmBorderAnimation__1WGPj\",\"AlarmContent\":\"Alarm_AlarmContent__P_EYn\",\"alarmContentAnimation\":\"Alarm_alarmContentAnimation__3AJBD\",\"AlarmOn\":\"Alarm_AlarmOn__O0eZd\",\"Time\":\"Alarm_Time__V5cdF\",\"Separator\":\"Alarm_Separator__37Pxe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2htTF\",\"Header\":\"App_Header__3nNFQ\",\"PageContainer\":\"App_PageContainer__Rca7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page\":\"Page_Page__1B_0z\",\"PageVisible\":\"Page_PageVisible__1JaEz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomMenuItem\":\"BottomMenuItem_BottomMenuItem__2aIcv\",\"BottomMenuItemSelected\":\"BottomMenuItem_BottomMenuItemSelected__349UW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomMenu\":\"BottomMenu_BottomMenu__WRc9W\"};","export class BottomMenuItemType {\n  static alarm = 'alarm';\n  static stopwatch = 'stopwatch';\n  static timer = 'timer';\n}","import { BottomMenuItemType } from './BottomMenuItemType';\n\nexport class AppState {\n  constructor() {\n    this.selectedBottomMenuItem = BottomMenuItemType.alarm;\n  }\n}","import classes from './Page.module.css';\nimport { bool, element } from 'prop-types';\nimport { memo } from 'react';\n\nexport const Page = memo((props) => {  \n  let className = classes.Page;\n  if (props.isTop) {\n    className += ' ' + classes.PageVisible;\n  }\n\n  return (\n    <div className={className}>\n      {props.children}\n    </div>\n  );\n});\n\nPage.propTypes = {\n  isTop: bool,\n  children: element.isRequired,\n};\n\nPage.defaultProps = {\n  isTop: false,\n};\n","export class AlarmState {\n  constructor() {\n    this.hours = 0;\n    this.minutes = 0;\n    this.isOn = false;\n    this.isAlarm = false;\n  }\n}","import { BottomMenuItemType } from '../models/BottomMenuItemType';\n\nexport class AppService {\n  isShowAlarm(state) {\n    return state.selectedBottomMenuItem === BottomMenuItemType.alarm;\n  }\n\n  isShowStopwatch(state) {\n    return state.selectedBottomMenuItem === BottomMenuItemType.stopwatch;\n  }\n\n  isShowTimer(state) {\n    return state.selectedBottomMenuItem === BottomMenuItemType.timer;\n  }\n}","export class AlarmService {\n  isShouldAlarm(state) {\n    const currentDate = new Date();\n    const currentHours = currentDate.getHours();\n    const currentMinutes = currentDate.getMinutes();\n\n    return (currentHours   === state.hours) && \n           (currentMinutes === state.minutes);\n  }\n\n  isActive(state) {\n    return state.isOn || state.isAlarm;\n  }\n}","export class StopwatchService {\n  constructor(timeService) {\n    this._timeService = timeService;\n  }\n\n  incSeconds(state) {\n    const nextSeconds = this._timeService.getNextSeconds(state.seconds);\n    const nextMinutes = (nextSeconds === 0 && state.seconds !== 0)\n      ? this._timeService.getNextMinutes(state.minutes)\n      : state.minutes;\n    const nextHours = (nextMinutes === 0 && state.minutes !== 0)\n      ? this._timeService.getNextHours(state.hours)\n      : state.hours; // TODO: case when hours is overflowed\n\n    return {\n      nextHours: nextHours,\n      nextMinutes: nextMinutes,\n      nextSeconds: nextSeconds,\n    };\n  }\n}","import { createContext } from \"react\";\nimport { AppService } from './AppService';\nimport { AlarmService } from './AlarmService';\nimport { StopwatchService } from \"./StopwatchService\";\nimport { TimeService } from \"./TimeService\";\n\nexport class DiService {\n  static timeService = new TimeService();\n\n  static context = createContext({\n    appService: new AppService(),\n    alarmService: new AlarmService(),\n    stopwatchService: new StopwatchService(DiService.timeService),\n    timeService: DiService.timeService,\n  });\n}","export class TimeService {\n  getNextSeconds(seconds) {\n    let nextSeconds = seconds + 1;\n\n    if (nextSeconds > 59) {\n      nextSeconds = 0;\n    }\n\n    return nextSeconds;\n  }\n\n  getNextMinutes(minutes) {\n    let nextMinutes = minutes + 1;\n\n    if (nextMinutes > 59) {\n      nextMinutes = 0;\n    }\n\n    return nextMinutes;\n  }\n\n  getNextHours(hours) {\n    let nextHours = hours + 1;\n\n    if (nextHours > 23) {\n      nextHours = 0;\n    }\n\n    return nextHours;\n  }\n\n  formatValue(value) {\n    let formattedValue = value.toString();\n    if (formattedValue.length < 2) {\n      formattedValue = '0' + formattedValue;\n    } \n\n    return formattedValue;\n  }\n}","import classes from './Alarm.module.css';\nimport { Component, createRef } from 'react';\nimport { AlarmState } from '../../models/AlarmState';\nimport { DiService } from '../../services/DiService';\n\nexport class Alarm extends Component {\n  static contextType = DiService.context;\n  static alarmCheckTimeIntervalMs = 1000 * 60;\n\n  constructor(props) {\n    super(props);\n\n    this.state = new AlarmState();\n    this.timer = null;\n    this.alarmContainerRef = createRef();\n    this.onStartStopAlarmClick = this.onStartStopAlarmClick.bind(this);\n    this.onIncAlarmHoursClick = this.onIncAlarmHoursClick.bind(this);\n    this.onIncAlarmMinutesClick = this.onIncAlarmMinutesClick.bind(this);\n  }\n\n  get formattedHours() {\n    return this.timeService.formatValue(this.state.hours);\n  }\n  \n  get formattedMinutes() {\n    return this.timeService.formatValue(this.state.minutes);\n  }\n\n  get alarmClassName() {\n    let className = classes.Alarm;\n\n    if (this.state.isOn) {\n      className += ' ' + classes.AlarmOn;\n    } else if (this.state.isAlarm) {\n      className += ' ' + classes.AlarmTriggered;\n    }\n\n    return className;\n  }\n\n  turnOn() {    \n    this.setState({ isOn: true });\n\n    this.runAlarm();\n  }\n\n  runAlarm() {\n    if (this.alarmService.isShouldAlarm(this.state)) {\n      this.alarm();\n      return;\n    } \n\n    this.timer = setInterval(() => {\n      if (this.alarmService.isShouldAlarm(this.state)) {\n        this.alarm();\n      } \n    }, this.alarmCheckTimeIntervalMs);\n  }\n\n  showAlarm() {\n    this.setState({ isAlarm: true });\n\n    window.alert(`Alarm: ${this.formattedHours}:${this.formattedMinutes} !`);\n  }\n\n  alarm() {    \n    this.turnOffTimer();\n    this.showAlarm();\n  }\n\n  turnOffTimer() {\n    clearInterval(this.timer);\n    \n    this.setState({ isOn: false });\n  }\n\n  turnOffAlarm() {\n    this.setState({ isAlarm: false });\n  }\n\n  onStartStopAlarmClick(event) {\n    if (event.target !== this.alarmContainerRef.current) {\n      return;\n    }\n\n    if (this.state.isOn) {\n      this.turnOffTimer();\n    } else if (this.state.isAlarm) {\n      this.turnOffAlarm();\n    } else {\n      this.turnOn();\n    }\n  }\n\n  onIncAlarmHoursClick() {\n    if (this.alarmService.isActive(this.state)) {\n      return;\n    }\n    \n    this.setState({ hours: this.timeService.getNextHours(this.state.hours) });\n  }\n\n  onIncAlarmMinutesClick() {\n    if (this.alarmService.isActive(this.state)) {\n      return;\n    }\n    \n    this.setState({ minutes: this.timeService.getNextMinutes(this.state.minutes) });\n  }\n\n  render() {\n    this.alarmService = this.context.alarmService;\n    this.timeService = this.context.timeService;\n\n    return (\n      <div \n        className={this.alarmClassName}\n        onClick={this.onStartStopAlarmClick}>\n\n        <div className={classes.AlarmBorder}/>\n\n        <div \n          className={classes.AlarmContent}\n          ref={this.alarmContainerRef}>\n\n          <div \n            className={classes.Time}\n            onClick={this.onIncAlarmHoursClick}>\n            \n            {this.formattedHours}\n          </div>\n\n          <div className={classes.Separator}>:</div>\n        \n          <div \n            className={classes.Time}\n            onClick={this.onIncAlarmMinutesClick}>\n              \n            {this.formattedMinutes}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","export class StopwatchState {\n  constructor() {\n    this.hours = 0;\n    this.minutes = 0;\n    this.seconds = 0;\n    this.isOn = false;\n  }\n}","import classes from './Stopwatch.module.css';\nimport { useContext, useEffect, useState } from 'react';\nimport { DiService } from '../../services/DiService';\nimport { StopwatchState } from '../../models/StopwatchState';\n\nexport function Stopwatch() {\n  const stopwatchService = useContext(DiService.context).stopwatchService;\n  const timeService = useContext(DiService.context).timeService;\n\n  const [state, setState] = useState(new StopwatchState());\n\n  useEffect(() => {\n    if (state.isOn) {\n      Stopwatch.timer = setTimeout(tick, 1000);\n    } else {\n      clearTimeout(Stopwatch.timer);\n    }\n  });\n\n  const formattedHours = timeService.formatValue(state.hours);\n  const formattedMinutes = timeService.formatValue(state.minutes);\n  const formattedSeconds = timeService.formatValue(state.seconds);\n\n  function updateState(updates) {\n    setState(prevState => ({ ...prevState, ...updates }));\n  }\n\n  function tick() {\n    const { nextHours, nextMinutes, nextSeconds } = stopwatchService.incSeconds(state);\n\n    updateState({\n      hours: nextHours,\n      minutes: nextMinutes,\n      seconds: nextSeconds,\n    });\n  }\n\n  function turnOn() {\n    updateState({ \n      isOn: true,\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n     });\n  }\n\n  function turnOff() {\n    updateState({ isOn: false });\n  }\n\n  function onStartStopStopwatchClick() {\n    if (state.isOn) {\n      turnOff();\n    } else {\n      turnOn();\n    }\n  }\n\n  function getStopwatchClassName() {\n    let className = classes.Stopwatch;\n\n    if (state.isOn) {\n      className += ' ' + classes.StopwatchOn;\n    } \n\n    return className;\n  }\n\n  return (\n    <div \n      onClick={onStartStopStopwatchClick}\n      className={getStopwatchClassName()}>\n\n      <div className={classes.StopwatchBorder}/>\n\n      <div className={classes.StopwatchContent}>\n        \n        <div className={classes.Time}>\n          { formattedHours }\n        </div>\n\n        <div className={classes.Separator}>:</div>\n\n        <div className={classes.Time}>\n          { formattedMinutes }\n        </div>\n\n        <div className={classes.Separator}>:</div>\n      \n        <div className={classes.Time}>\n          { formattedSeconds }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nStopwatch.timer = null;","import { memo } from \"react\";\n\nexport const Timer = memo(() => <h1>Timer</h1>);\n","import { bool, func } from 'prop-types';\nimport { memo } from 'react';\nimport classes from './BottomMenuItem.module.css';\n\nexport const BottomMenuItem = memo((props) => {\n  let className = classes.BottomMenuItem;\n  if (props.selected) {\n    className += ' ' + classes.BottomMenuItemSelected;\n  }\n\n  return (\n    <button \n      className={className}\n      onClick={props.onClick}>\n        \n      {props.children}\n    </button>\n  );\n});\n\nBottomMenuItem.propTypes = {\n  selected: bool,\n  onClick: func.isRequired,\n}\n\nBottomMenuItem.defaultProps = {\n  selected: false,\n}","import classes from './BottomMenu.module.css';\nimport { BottomMenuItemType } from '../../models/BottomMenuItemType';\nimport { BottomMenuItem } from './BottomMenuItem/BottomMenuItem';\nimport { func, string } from 'prop-types';\nimport { memo } from 'react';\n\nexport const BottomMenu = memo((props) => {\n  const isShowAlarm = props.selectedItem === BottomMenuItemType.alarm;\n  const isShowStopwatch = props.selectedItem === BottomMenuItemType.stopwatch;\n  const isShowTimer = props.selectedItem === BottomMenuItemType.timer;\n\n  return (\n    <div className={classes.BottomMenu}>\n      \n      <BottomMenuItem \n        selected={isShowAlarm}\n        onClick={() => props.onItemClick(BottomMenuItemType.alarm)}>\n\n        Alarm\n      </BottomMenuItem>\n\n      <BottomMenuItem\n        selected={isShowStopwatch}\n        onClick={() => props.onItemClick(BottomMenuItemType.stopwatch)}>\n\n        Stopwatch\n      </BottomMenuItem>\n\n      <BottomMenuItem\n        selected={isShowTimer}\n        onClick={() => props.onItemClick(BottomMenuItemType.timer)}>\n\n        Timer\n      </BottomMenuItem>\n    </div>\n  );\n});\n\nBottomMenu.propTypes = {\n  selectedItem: string.isRequired,\n  onItemClick: func.isRequired,\n};","import classes from './App.module.css';\nimport { Component } from 'react';\nimport { AppState } from '../models/AppState';\nimport { Page } from './Page/Page';\nimport { Alarm } from './Alarm/Alarm';\nimport { Stopwatch } from './Stopwatch/Stopwatch';\nimport { Timer } from './Timer/Timer';\nimport { BottomMenu } from './BottomMenu/BottomMenu';\nimport { DiService } from '../services/DiService';\n\nexport class App extends Component {\n  static contextType = DiService.context;\n\n  constructor(props) {\n    super(props);\n\n    this.state = new AppState();\n    this.onBottomMenuItemClick = this.onBottomMenuItemClick.bind(this);\n  }\n\n  onBottomMenuItemClick(itemType) {\n    this.setState({ selectedBottomMenuItem: itemType });\n  }\n\n  buildPages() {\n    return <div className={classes.PageContainer}>\n      <Page isTop={this.appService.isShowAlarm(this.state)}>\n        <Alarm/>\n      </Page>\n\n      <Page isTop={this.appService.isShowStopwatch(this.state)}>\n        <Stopwatch/>\n      </Page>\n\n      <Page isTop={this.appService.isShowTimer(this.state)}>\n        <Timer/>\n      </Page>\n    </div>\n  }\n\n  render() {\n    this.appService = this.context.appService;\n\n    return (\n      <div className={classes.App}>\n        <header className={classes.Header}>\n          <h1>React Timer</h1>\n        </header>\n\n        {this.buildPages()}\n\n        <BottomMenu \n          selectedItem={this.state.selectedBottomMenuItem}\n          onItemClick={this.onBottomMenuItemClick}/>\n      </div>\n    );\n  }\n}","import './index.css';\nimport { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { App } from './App/App';\n\nconst app = (\n  <StrictMode>\n    <App/>\n  </StrictMode>\n);\n\nrender(app, document.getElementById('root'));"],"sourceRoot":""}